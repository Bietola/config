#/bin/sh

FOLDERS_THAT_CAN_BE_ACCESSED_BY_USERS=$(
    echo /etc/nixos/home         # All home configuration
    echo /etc/nixos/utils/bin    # Scripts useful to users
)

FOLDERS_WITH_EXECUTABLE_FILES=$(
    echo /etc/nixos/home/bin     # Util scripts for configuring home
    echo /etc/nixos/utils/bin    # See above
)

# # Set group ownership to `users` group
# echo $FOLDERS_THAT_CAN_BE_ACCESSED_BY_USERS |\
#     xargs -L1 sudo chown -R root:users 

# All folders get `rwx` as they need to also be executable for some reason
echo $FOLDERS_THAT_CAN_BE_ACCESSED_BY_USERS |\
    xargs -I % -L1 find % -type d -exec sudo echo {} \;
    # find xxx -type d -exec sudo chmod ug=rwx {} \;

# # Files get `rw` as not all files need to be executable...
# find "$FOLDERS_THAT_CAN_BE_ACCESSED_BY_USERS" -type f -exec sudo chmod ug=rw {} \;

# # ...Except for the ones that do
# find "$FOLDERS_WITH_EXECUTABLE_FILES" -type f -exec sudo chmod ug=rwx {} \;
